import{$ as ee,A as Z,B as L,C as h,D as b,E as F,F as _,G as a,H as I,I as y,J as V,K as k,L as j,M as w,N as pe,O as P,P as g,Q as A,R as me,S as ue,W as de,Y as ge,Z as fe,a as ie,aa as ye,b as K,c as Q,d as W,e as oe,f as re,g as ae,h as x,i as se,j as T,k as ce,l as N,m as D,n as le,o as X,p as O,q as s,r as d,s as p,t as M,u as m,v as c,w as r,x as i,y as l,z as Y}from"./chunk-HO4JLPLP.js";var f=class n{constructor(t){this.httpClient=t;this.loadFromLocalStorage()}apiUrl="https://restcountries.com/v3.1";cacheStore={byCapital:{term:"",countries:[]},byCountries:{term:"",countries:[]},byRegion:{region:"",countries:[]}};saveToLocalStorage(){localStorage.setItem("cacheStore",JSON.stringify(this.cacheStore))}loadFromLocalStorage(){localStorage.getItem("cacheStore")&&(this.cacheStore=JSON.parse(localStorage.getItem("cacheStore")))}getCountriesRequest(t){return this.httpClient.get(t).pipe(W(()=>K([])),Q(e=>e.sort((o,u)=>u.population-o.population)),re(50))}searchCapital(t){let e=`${this.apiUrl}/capital/${t}`;return this.getCountriesRequest(e).pipe(x(o=>{this.cacheStore.byCapital={term:t,countries:o}}),x(()=>this.saveToLocalStorage()))}searchCountry(t){let e=`${this.apiUrl}/name/${t}`;return this.getCountriesRequest(e).pipe(x(o=>{this.cacheStore.byCountries={term:t,countries:o}}),x(()=>this.saveToLocalStorage()))}searchRegion(t){let e=`${this.apiUrl}/region/${t}`;return this.getCountriesRequest(e).pipe(x(o=>{this.cacheStore.byRegion={region:t,countries:o}}),x(()=>this.saveToLocalStorage()))}searchCountryByAlphaCode(t){let e=`${this.apiUrl}/alpha/${t}`;return this.httpClient.get(e).pipe(Q(o=>o.length>0?o[0]:null),W(()=>K(null)))}static \u0275fac=function(e){return new(e||n)(ce(ue))};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})};var v=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["shared-loading-spinner"]],standalone:!1,decls:15,vars:0,consts:[[1,"spinner-container","bg-dark"],["width","30","height","30","viewBox","0 0 45 45","xmlns","http://www.w3.org/2000/svg","stroke","#fff"],["fill","none","fill-rule","evenodd","transform","translate(1 1)","stroke-width","2"],["cx","22","cy","22","r","6","stroke-opacity","0"],["attributeName","r","begin","1.5s","dur","3s","values","6;22","calcMode","linear","repeatCount","indefinite"],["attributeName","stroke-opacity","begin","1.5s","dur","3s","values","1;0","calcMode","linear","repeatCount","indefinite"],["attributeName","stroke-width","begin","1.5s","dur","3s","values","2;0","calcMode","linear","repeatCount","indefinite"],["attributeName","r","begin","3s","dur","3s","values","6;22","calcMode","linear","repeatCount","indefinite"],["attributeName","stroke-opacity","begin","3s","dur","3s","values","1;0","calcMode","linear","repeatCount","indefinite"],["attributeName","stroke-width","begin","3s","dur","3s","values","2;0","calcMode","linear","repeatCount","indefinite"],["cx","22","cy","22","r","8"],["attributeName","r","begin","0s","dur","1.5s","values","6;1;2;3;4;5;6","calcMode","linear","repeatCount","indefinite"]],template:function(e,o){e&1&&(r(0,"div",0)(1,"span"),a(2,"Loading.."),i(),le(),r(3,"svg",1)(4,"g",2)(5,"circle",3),l(6,"animate",4)(7,"animate",5)(8,"animate",6),i(),r(9,"circle",3),l(10,"animate",7)(11,"animate",8)(12,"animate",9),i(),r(13,"circle",10),l(14,"animate",11),i()()()())},styles:[".spinner-container[_ngcontent-%COMP%]{background-color:#000;border-radius:20px;bottom:15px;color:#fff;display:flex;padding:5px 10px;position:fixed;right:15px;box-shadow:0 3px 5px #0003}span[_ngcontent-%COMP%]{margin-left:5px}"]})};var B=class n{debouncer=new ie;debouncerSubscription;placeholder="";initialValue="";onValue=new X;onDebounce=new X;ngOnInit(){this.debouncerSubscription=this.debouncer.pipe(oe(300)).subscribe(t=>{this.onDebounce.emit(t)})}ngOnDestroy(){this.debouncerSubscription?.unsubscribe()}emitValue(t){this.onValue.emit(t)}onKeyPress(t){this.debouncer.next(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["shared-search-box"]],inputs:{placeholder:"placeholder",initialValue:"initialValue"},outputs:{onValue:"onValue",onDebounce:"onDebounce"},standalone:!1,decls:3,vars:2,consts:[["txtTagInput",""],["type","text",1,"form-control",3,"keyup","value","placeholder"]],template:function(e,o){if(e&1){let u=L();r(0,"input",1,0),h("keyup",function(){N(u);let be=_(1);return D(o.onKeyPress(be.value))}),i(),l(2,"hr")}e&2&&c("value",o.initialValue)("placeholder",o.placeholder)},encapsulation:2})};var Se=n=>["/countries/by",n];function xe(n,t){n&1&&(r(0,"div",2),a(1,"No hay paises que mostrar"),i())}function _e(n,t){if(n&1&&(r(0,"tr")(1,"td"),a(2),i(),r(3,"td"),a(4),i(),r(5,"td"),l(6,"img",5),i(),r(7,"td"),a(8),i(),r(9,"td"),a(10),i(),r(11,"td"),a(12),k(13,"number"),i(),r(14,"td")(15,"a",6),a(16,"Info"),i()()()),n&2){let e=t.$implicit,o=t.index;s(2),I(o+1),s(2),y(" ",e.flag," "),s(2),c("src",e.flags.svg,O)("alt",e.name.common),s(2),I(e.name.common),s(2),I(e.capital),s(2),I(j(13,8,e.population)),s(3),c("routerLink",V(10,Se,e.cca3))}}function Ie(n,t){if(n&1&&(r(0,"table",3)(1,"thead")(2,"tr")(3,"th"),a(4,"#"),i(),r(5,"th"),a(6,"Icon"),i(),r(7,"th"),a(8,"Bandera"),i(),r(9,"th"),a(10,"Nombre"),i(),r(11,"th"),a(12,"Capital"),i(),r(13,"th"),a(14,"Poblacion"),i(),l(15,"th"),i()(),r(16,"tbody"),m(17,_e,17,12,"tr",4),i()()),n&2){let e=b();s(17),c("ngForOf",e.countries)}}var S=class n{countries=[];static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["countries-country-table"]],inputs:{countries:"countries"},standalone:!1,decls:3,vars:2,consts:[["table",""],["class","alert alert-warning text-center",4,"ngIf","ngIfElse"],[1,"alert","alert-warning","text-center"],[1,"table","table-hover","text-center"],[4,"ngFor","ngForOf"],[3,"src","alt"],[3,"routerLink"]],template:function(e,o){if(e&1&&m(0,xe,2,0,"div",1)(1,Ie,18,1,"ng-template",null,0,w),e&2){let u=_(2);c("ngIf",o.countries.length===0)("ngIfElse",u)}},dependencies:[P,g,fe,A],styles:["img[_ngcontent-%COMP%]{width:35px}"]})};function Ee(n,t){n&1&&l(0,"shared-loading-spinner")}var q=class n{constructor(t){this.countriesService=t}title="Buscar por capital...";countries=[];isLoading=!1;initialValue="";ngOnInit(){this.initialValue=this.countriesService.cacheStore.byCapital.term,this.countries=this.countriesService.cacheStore.byCapital.countries}searchByCapital(t){this.isLoading=!0,this.countriesService.searchCapital(t).subscribe(e=>{this.countries=e,this.isLoading=!1})}static \u0275fac=function(e){return new(e||n)(d(f))};static \u0275cmp=p({type:n,selectors:[["countries-by-capital-page"]],standalone:!1,decls:10,vars:4,consts:[[1,"row"],[1,"col"],[3,"onDebounce","placeholder","initialValue"],[4,"ngIf"],[3,"countries"]],template:function(e,o){e&1&&(r(0,"h2"),a(1,"Por Capital"),i(),l(2,"hr"),r(3,"div",0)(4,"div",1)(5,"shared-search-box",2),h("onDebounce",function(E){return o.searchByCapital(E)}),i()()(),r(6,"div",0)(7,"div",1),m(8,Ee,1,0,"shared-loading-spinner",3),l(9,"countries-country-table",4),i()()),e&2&&(s(5),F("placeholder",o.title),c("initialValue",o.initialValue),s(3),c("ngIf",o.isLoading),s(),c("countries",o.countries))},dependencies:[g,v,B,S],encapsulation:2})};function Pe(n,t){n&1&&l(0,"shared-loading-spinner")}var z=class n{constructor(t){this.countriesService=t}title="Buscar por pais...";countries=[];isLoading=!1;initialValue="";ngOnInit(){this.initialValue=this.countriesService.cacheStore.byCountries.term,this.countries=this.countriesService.cacheStore.byCountries.countries}searchByCountry(t){this.isLoading=!0,this.countriesService.searchCountry(t).subscribe(e=>{this.countries=e,this.isLoading=!1})}static \u0275fac=function(e){return new(e||n)(d(f))};static \u0275cmp=p({type:n,selectors:[["countries-by-country-page"]],standalone:!1,decls:10,vars:4,consts:[[1,"row"],[1,"col"],[3,"onDebounce","placeholder","initialValue"],[4,"ngIf"],[3,"countries"]],template:function(e,o){e&1&&(r(0,"h2"),a(1,"Por Pais"),i(),l(2,"hr"),r(3,"div",0)(4,"div",1)(5,"shared-search-box",2),h("onDebounce",function(E){return o.searchByCountry(E)}),i()()(),r(6,"div",0)(7,"div",1),m(8,Pe,1,0,"shared-loading-spinner",3),l(9,"countries-country-table",4),i()()),e&2&&(s(5),F("placeholder",o.title),c("initialValue",o.initialValue),s(3),c("ngIf",o.isLoading),s(),c("countries",o.countries))},dependencies:[g,v,B,S],encapsulation:2})};var Re=n=>({"btn-outline-primary":n});function Be(n,t){if(n&1){let e=L();r(0,"button",5),h("click",function(){let u=N(e).$implicit,E=b();return D(E.searchByRegion(u))}),a(1),i()}if(n&2){let e=t.$implicit,o=b();c("ngClass",V(2,Re,o.selectedRegion===e)),s(),y(" ",e," ")}}function Oe(n,t){n&1&&l(0,"shared-loading-spinner")}var H=class n{constructor(t){this.countriesService=t}title="Buscar por region...";regions=["Africa","Americas","Asia","Europe","Oceania"];countries=[];isLoading=!1;selectedRegion;ngOnInit(){this.selectedRegion=this.countriesService.cacheStore.byRegion.region,this.countries=this.countriesService.cacheStore.byRegion.countries}searchByRegion(t){this.isLoading=!0,this.selectedRegion=t,this.countriesService.searchRegion(t).subscribe(e=>{this.countries=e,this.isLoading=!1})}static \u0275fac=function(e){return new(e||n)(d(f))};static \u0275cmp=p({type:n,selectors:[["countries-by-region-page"]],standalone:!1,decls:10,vars:3,consts:[[1,"row"],[1,"col"],["class","btn mx-2 mb-2 center",3,"ngClass","click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"countries"],[1,"btn","mx-2","mb-2","center",3,"click","ngClass"]],template:function(e,o){e&1&&(r(0,"h2"),a(1,"Por Region"),i(),l(2,"hr"),r(3,"div",0)(4,"div",1),m(5,Be,2,4,"button",2),i()(),r(6,"div",0)(7,"div",1),m(8,Oe,1,0,"shared-loading-spinner",3),l(9,"countries-country-table",4),i()()),e&2&&(s(5),c("ngForOf",o.regions),s(3),c("ngIf",o.isLoading),s(),c("countries",o.countries))},dependencies:[pe,P,g,v,S],encapsulation:2})};function we(n,t){n&1&&(r(0,"div",3),l(1,"div",4),r(2,"p",5),a(3,"Cargando informacion del pais... Espere, por favor."),i()())}function Te(n,t){if(n&1&&(Y(0),r(1,"span",24),a(2),i(),Z()),n&2){let e=t.$implicit;s(2),y(" ",e.value.common," ")}}function Ne(n,t){if(n&1&&(Y(0),l(1,"img",25),Z()),n&2){let e=b(2);s(),c("src",e.country.coatOfArms.svg,O)("alt","Escudo de "+e.country.name.common)}}function De(n,t){n&1&&(r(0,"p",26),a(1,"Escudo no disponible"),i())}function Me(n,t){if(n&1&&(r(0,"div",6)(1,"div",7)(2,"div",8)(3,"h1",9)(4,"strong"),a(5),i()(),l(6,"hr"),i()(),r(7,"div",10)(8,"div",11)(9,"h3"),a(10,"Bandera"),i(),l(11,"img",12),i(),r(12,"div",13)(13,"h3"),a(14,"Informacion General"),i(),r(15,"ul",14)(16,"li",15)(17,"strong"),a(18,"Poblacion: "),i(),a(19),k(20,"number"),i(),r(21,"li",15)(22,"strong"),a(23,"Codigo: "),i(),a(24),i(),r(25,"li",15)(26,"strong"),a(27,"Continentes: "),i(),a(28),i()()()(),r(29,"div",16)(30,"div",17)(31,"h3"),a(32,"Traducciones"),i(),r(33,"div",18),m(34,Te,3,1,"ng-container",19),i()(),r(35,"div",20)(36,"div",21)(37,"h3",22),a(38,"Escudo"),i(),m(39,Ne,2,2,"ng-container",23)(40,De,2,0,"ng-template",null,1,w),i()()()()),n&2){let e=_(41),o=b();s(5),I(o.country.name.common),s(6),c("src",o.country.flags.svg,O)("alt","Bandera de "+o.country.name.common),s(8),y(" ",j(20,9,o.country.population)," "),s(5),y(" ",o.country.cca3," "),s(4),y(" ",o.country.continents," "),s(6),c("ngForOf",o.translationsArray),s(5),c("ngIf",o.country.coatOfArms==null?null:o.country.coatOfArms.svg)("ngIfElse",e)}}var G=class n{constructor(t,e,o){this.activatedRoute=t;this.router=e;this.countriesService=o}country;translationsArray=[];ngOnInit(){this.activatedRoute.params.pipe(ae(t=>this.countriesService.searchCountryByAlphaCode(t.id))).subscribe(t=>t?(this.country=t,this.country.translations&&(this.translationsArray=Object.entries(this.country.translations).map(([e,o])=>({key:e,value:o}))),this.country):this.router.navigateByUrl(""))}static \u0275fac=function(e){return new(e||n)(d(de),d(ge),d(f))};static \u0275cmp=p({type:n,selectors:[["app-country-page"]],standalone:!1,decls:3,vars:2,consts:[["loading",""],["noCoatOfArms",""],["class","container",4,"ngIf","ngIfElse"],[1,"alert","alert-info","text-center","my-5"],["role","status",1,"spinner-border","text-primary"],[1,"mt-3"],[1,"container"],[1,"row"],[1,"col","text-center"],[1,"display-5"],[1,"row","align-items-center","mb-4"],[1,"col-12","col-md-4","text-center","mb-3","mb-md-0"],[1,"img-fluid","rounded","shadow",3,"src","alt"],[1,"col-12","col-md-8"],[1,"list-group","shadow-sm"],[1,"list-group-item"],[1,"row","mb-4"],[1,"col"],[1,"d-flex","flex-wrap"],[4,"ngFor","ngForOf"],[1,"row","justify-content-center","mt-4"],[1,"col-12","col-md-6","text-center"],[1,"mb-4"],[4,"ngIf","ngIfElse"],[1,"badge","bg-primary","m-1"],[1,"img-thumbnail","shadow-lg","rounded",2,"max-width","70%","height","auto",3,"src","alt"],[1,"text-muted"]],template:function(e,o){if(e&1&&m(0,we,4,0,"ng-template",null,0,w)(2,Me,42,11,"div",2),e&2){let u=_(1);s(2),c("ngIf",o.country)("ngIfElse",u)}},dependencies:[P,g,A],encapsulation:2})};var Le=[{path:"by-capital",component:q},{path:"by-country",component:z},{path:"by-region",component:H},{path:"by/:id",component:G},{path:"**",redirectTo:"by-capital"}],J=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=M({type:n});static \u0275inj=T({imports:[ee.forChild(Le),ee]})};var he=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=M({type:n});static \u0275inj=T({imports:[me,J,ye]})};export{he as CountriesModule};
